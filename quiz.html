<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Page</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <link rel="stylesheet" href="./style/jsonToHtml.css">
    <link rel="stylesheet" href="./style/bcv.css">
    <style>
        .quiz-body {
            font-family: Arial, sans-serif;
            background: #f4f6f9;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 60vh;
        }

        .quiz-container {
            background: #fff;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
            text-align: center;
        }

        h2 {
            margin-bottom: 20px;
            font-size: 22px;
            color: #333;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }

        .options button {
            padding: 12px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            background: #eaeaea;
            cursor: pointer;
            transition: background 0.3s;
        }

        .options button:hover {
            background: #d4d4d4;
        }

        .result {
            font-size: 20px;
            font-weight: bold;
            margin: 20px 0;
            color: #222;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header active">
                <a class="navbar-brand" href="#" style="background-color: #dff3f5;"
                    onclick="showHidePage('bcvHome')">Build CV</a>
            </div>
            <ul class="nav navbar-nav">
                <li><a href="https://www.buildcv.co.in/">Home</a></li>
            </ul>
            <div class="profileContact contact">
                <a href="mailto:contact@buildcv.co.in">ðŸ“§buildcv.co.in@gmail.com</a>
            </div>
        </div>
    </nav>
    <p style="display: flex; justify-content: center; cursor: pointer;" onclick="handleQuizBatch(event)">
        <a data-view="batch1">Quiz 1</a>&nbsp;&nbsp;<a data-view="batch2">Quiz 2</a>&nbsp;&nbsp;<a data-view="batch3">Quiz 3</a>&nbsp;&nbsp;<a data-view="batch4">Quiz 4</a>&nbsp;&nbsp;<a data-view="batch5">Quiz 5</a>&nbsp;&nbsp;
        <a data-view="batch6">Quiz 6</a>&nbsp;&nbsp;<a  data-view="batch7">Quiz 7</a>&nbsp;&nbsp;<a data-view="batch8">Quiz 8</a>&nbsp;&nbsp;<a  data-view="batch9">Quiz 9</a>&nbsp;&nbsp;<a  data-view="batch10">Quiz 10</a>
    </p>
    <p style="display: flex; justify-content: center; cursor: pointer;" onclick="handleQuizBatch(event)">
         <a data-view="batch11">Quiz 11</a>&nbsp;&nbsp;<a data-view="batch12">Quiz 12</a>&nbsp;&nbsp;<a data-view="batch13">Quiz 13</a>&nbsp;&nbsp;<a data-view="batch14">Quiz 14</a>&nbsp;&nbsp;<a data-view="batch15">Quiz 15</a>&nbsp;&nbsp;
        <a data-view="batch16">Quiz 16</a>&nbsp;&nbsp;<a  data-view="batch17">Quiz 17</a>&nbsp;&nbsp;<a data-view="batch18">Quiz 18</a>&nbsp;&nbsp;<a  data-view="batch19">Quiz 19</a>&nbsp;&nbsp;<a  data-view="batch20">Quiz 20</a>
    </p>
    <p style="display: flex; justify-content: center; cursor: pointer;" onclick="handleQuizBatch(event)">
         <a data-view="batch21">Quiz 21</a>&nbsp;&nbsp;<a data-view="batch22">Quiz 22</a>&nbsp;&nbsp;<a data-view="batch23">Quiz 23</a>&nbsp;&nbsp;<a data-view="batch24">Quiz 24</a>&nbsp;&nbsp;<a data-view="batch25">Quiz 25</a>&nbsp;&nbsp;
        <a data-view="batch26">Quiz 26</a>&nbsp;&nbsp;<a  data-view="batch27">Quiz 27</a>&nbsp;&nbsp;<a data-view="batch28">Quiz 28</a>&nbsp;&nbsp;<a  data-view="batch29">Quiz 29</a>&nbsp;&nbsp;<a  data-view="batch30">Quiz 30</a>
    </p>
    <div class="quiz-body">
        <div class="quiz-container">
            <h2 id="question">Loading question...</h2>
            <div class="options" id="options"></div>
            <div id="result" class="result" style="color: #7a7af0;"></div>
            <div id="progress" style="color: #7a7af0;"></div>
            <button id="restartBtn" class="btn" style="display: none;">Restart Quiz</button>
        </div>
    </div>
    <script>
        let quizData = [];
        let currentQ = 0;
        let score = 0;

        const questionEl = document.getElementById("question");
        const optionsEl = document.getElementById("options");
        const resultEl = document.getElementById("result");
        const progressEl = document.getElementById("progress");
        const restartBtn = document.getElementById("restartBtn");

        function handleQuizBatch(e){
            let selectedBatch = e?.target?.dataset?.view || 'batch1';
            loadQuizData(selectedBatch);
        }

        async function loadQuizData(selectedQuizBatch = 'batch1') {
            try {
                //https://www.buildcv.co.in/quiz/batch1.json
                // const res = await fetch(`quiz/${selectedQuizBatch}.json`);
                const res = await fetch(`https://www.buildcv.co.in/quiz/${selectedQuizBatch}.json`);
                quizData = await res.json();
                loadQuestion();
            } catch (err) {
                questionEl.textContent = "Failed to load questions!";
            }
        }

        function loadQuestion() {
            resultEl.textContent = "";
            const current = quizData[currentQ];
            questionEl.textContent = `Q${currentQ + 1}: ${current.question}`;
            optionsEl.innerHTML = "";
            current.options.forEach((opt) => {
                const btn = document.createElement("button");
                btn.textContent = opt;
                btn.onclick = () => checkAnswer(opt);
                optionsEl.appendChild(btn);
            });

            progressEl.textContent = `Question ${currentQ + 1} of ${quizData.length}`;
        }

        function checkAnswer(selected) {
            if (selected === quizData[currentQ].answer) {
                score++;
            }
            currentQ++;
            if (currentQ < quizData.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            questionEl.textContent = "Quiz Completed ðŸŽ‰";
            optionsEl.innerHTML = "";
            progressEl.textContent = "";
            resultEl.textContent = `Your Score: ${score} / ${quizData.length}`;
            restartBtn.style.display = "inline-block";
        }

        restartBtn.addEventListener("click", () => {
            currentQ = 0;
            score = 0;
            restartBtn.style.display = "none";
            loadQuestion();
        });

        loadQuizData();
    </script>
</body>

</html>